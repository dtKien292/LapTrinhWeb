<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tai xiu</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Gieo xúc xắc Online</h1>
    <img id="dive" src="pic/1.png" alt="" style="height: 70px; ">
    <button onclick="flipImage()">Gieo</button>
    <div id="ans"></div>

    <script>
        var num = 0;
        var imageSources = ["0","pic/1.png","pic/2.png","pic/3.png","pic/4.png","pic/5.png","pic/6.png"];

        function randomFromOneToSix() {
            return Math.floor(Math.random() * 6) + 1;
        }

        function random(n) {
            num++;
            var addDiv = document.createElement("div");
            var addP = document.createElement("p");
            var addImg = document.createElement("img");

            addDiv.setAttribute('class','x')
            addDiv.id = 'a' + num;
            addP.textContent = 'Lần thứ ' + num + ':';
            addImg.src = imageSources[n];

            addDiv.appendChild(addP);
            addDiv.appendChild(addImg);
            document.getElementById("ans").appendChild(addDiv);
            document.getElementById("dive").src = imageSources[n];
        }

        function flipImage() {
            var img = document.getElementById("dive");
            var rotation = 0;
            var duration = 1000; 
            var framesPerSecond = 60;
            var totalFrames = duration / (1000 / framesPerSecond);
            var frameCount = 0;
            var interval = setInterval(function() {
                frameCount++;
                if (frameCount <= totalFrames / 2) {
                    rotation += 180 / (totalFrames / 2);
                } else {
                    rotation -= 180 / (totalFrames / 2);
                }
                img.style.transform = "rotateY(" + rotation + "deg)";
                if (frameCount >= totalFrames) {
                    clearInterval(interval);
                    changeImage();
                }
            }, 1000 / framesPerSecond);

            function changeImage() {
                var randomNumber = randomFromOneToSix();
                img.style.transform = "rotateY(0deg)"; 
                img.src = imageSources[randomNumber];
                random(randomNumber);
            }
        }
    </script>
</body>
</html>